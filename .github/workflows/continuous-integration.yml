name: "Continuous Integration"

on: push

jobs:
    phpunit:
        uses: dontdrinkandroot/github-actions/.github/workflows/php-library-phpunit.yml@main
        secrets: inherit

    phpstan:
        uses: dontdrinkandroot/github-actions/.github/workflows/php-library-phpstan.yml@main
        secrets: inherit

    sonarcloud:
        uses: dontdrinkandroot/github-actions/.github/workflows/php-sonarcloud.yml@main
        needs: phpstan
        with:
            project-key: 'dontdrinkandroot_path.php'
        secrets: inherit
